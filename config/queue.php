<?php

return [

    /*
    |--------------------------------------------------------------------------
    | üìå –û—á–µ—Ä–µ–¥—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    |--------------------------------------------------------------------------
    |
    | Laravel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—É—é API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –æ—á–µ—Ä–µ–¥–µ–π:
    | database, redis, beanstalkd, Amazon SQS –∏ –¥—Ä.
    | –ó–¥–µ—Å—å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∫–∞–∫–∞—è –∏–∑ –Ω–∏—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
    |
    */
    'default' => env('QUEUE_CONNECTION', 'database'),

    /*
    |--------------------------------------------------------------------------
    | ‚öôÔ∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –æ—á–µ—Ä–µ–¥—è–º
    |--------------------------------------------------------------------------
    |
    | –ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ —Ä–∞–∑–Ω—ã–º –¥—Ä–∞–π–≤–µ—Ä–∞–º.
    | –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω–∏ –∑–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ Redis, –¥—Ä—É–≥–∏–µ ‚Äî —á–µ—Ä–µ–∑ SQS.
    |
    | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã:
    | "sync", "database", "beanstalkd", "sqs", "redis", "null"
    |
    */
    'connections' => [

        // üîÉ Sync ‚Äî –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–±–µ–∑ –æ—á–µ—Ä–µ–¥–∏)
        'sync' => [
            'driver' => 'sync',
        ],

        // üóÉÔ∏è Database ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∑–∞–¥–∞—á–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `jobs`
        'database' => [
            'driver' => 'database',
            'connection' => env('DB_QUEUE_CONNECTION'),              // –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
            'table' => env('DB_QUEUE_TABLE', 'jobs'),                // —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞–Ω–∏–π
            'queue' => env('DB_QUEUE', 'default'),                   // –∏–º—è –æ—á–µ—Ä–µ–¥–∏
            'retry_after' => (int) env('DB_QUEUE_RETRY_AFTER', 90),  // —á–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
            'after_commit' => false,                                 // –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ commit —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        ],

        // üì¶ Beanstalkd ‚Äî –ª—ë–≥–∫–∏–π –±—Ä–æ–∫–µ—Ä –æ—á–µ—Ä–µ–¥–µ–π
        'beanstalkd' => [
            'driver' => 'beanstalkd',
            'host' => env('BEANSTALKD_QUEUE_HOST', 'localhost'),
            'queue' => env('BEANSTALKD_QUEUE', 'default'),
            'retry_after' => (int) env('BEANSTALKD_QUEUE_RETRY_AFTER', 90),
            'block_for' => 0,         // –æ–∂–∏–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (0 = –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç)
            'after_commit' => false,
        ],

        // ‚òÅÔ∏è Amazon SQS
        'sqs' => [
            'driver' => 'sqs',
            'key' => env('AWS_ACCESS_KEY_ID'),
            'secret' => env('AWS_SECRET_ACCESS_KEY'),
            'prefix' => env('SQS_PREFIX', 'https://sqs.us-east-1.amazonaws.com/your-account-id'),
            'queue' => env('SQS_QUEUE', 'default'),
            'suffix' => env('SQS_SUFFIX'),
            'region' => env('AWS_DEFAULT_REGION', 'us-east-1'),
            'after_commit' => false,
        ],

        // üî¥ Redis ‚Äî –±—ã—Å—Ç—Ä–∞—è in-memory –æ—á–µ—Ä–µ–¥—å
        'redis' => [
            'driver' => 'redis',
            'connection' => env('REDIS_QUEUE_CONNECTION', 'default'),
            'queue' => env('REDIS_QUEUE', 'default'),
            'retry_after' => (int) env('REDIS_QUEUE_RETRY_AFTER', 90),
            'block_for' => null,
            'after_commit' => false,
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | üß∫ –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á (Job Batching)
    |--------------------------------------------------------------------------
    |
    | –ó–∞–¥–∞—á–∏ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤ –ø–∞–∫–µ—Ç—ã (batch), —á—Ç–æ–±—ã –∑–∞–ø—É—Å–∫–∞—Ç—å –∏—Ö –≥—Ä—É–ø–ø–∞–º–∏.
    | –ó–¥–µ—Å—å —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ë–î –∏ —Ç–∞–±–ª–∏—Ü–∞, –≥–¥–µ –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç—Ç–æ–º.
    |
    */
    'batching' => [
        'database' => env('DB_CONNECTION', 'sqlite'),
        'table' => 'job_batches',
    ],

    /*
    |--------------------------------------------------------------------------
    | ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
    |--------------------------------------------------------------------------
    |
    | –ï—Å–ª–∏ –∑–∞–¥–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å ‚Äî Laravel –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
    | –æ –Ω—ë–º –≤ —Ñ–∞–π–ª –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—É. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Ç–æ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ.
    |
    | –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã: "database-uuids", "dynamodb", "file", "null"
    |
    */
    'failed' => [
        'driver' => env('QUEUE_FAILED_DRIVER', 'database-uuids'), // —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π ‚Äî database-uuids
        'database' => env('DB_CONNECTION', 'sqlite'),             // –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
        'table' => 'failed_jobs',                                 // —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –æ—à–∏–±–æ–∫
    ],

];
